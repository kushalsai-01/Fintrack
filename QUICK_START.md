# ğŸš€ FinTrack Pro - Quick Start Guide

## âœ… Current Status

**All services are running!**

- âœ… **MongoDB** - Running on port 27017 (healthy)
- âœ… **Redis** - Running on port 6379 (healthy)
- âœ… **ML Service** - Running on port 8001 (healthy)
- âœ… **Backend API** - Running on port 5000 (starting)
- â³ **Frontend** - Not yet started

---

## ğŸ“‹ Required Environment Variables

### Already Configured âœ…

Your `.env` file has been auto-generated with secure JWT secrets. No changes needed!

**Location**: `fintrack-pro/.env`

```env
JWT_SECRET=<auto-generated-48-character-secret>
JWT_REFRESH_SECRET=<auto-generated-48-character-secret>
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
```

### Built-in Defaults (No .env needed)

These are already configured in docker-compose.yml:

#### MongoDB
- **Host**: mongodb (internal), localhost:27017 (external)
- **Username**: fintrack
- **Password**: fintrack123
- **Database**: fintrack-pro
- **Connection**: `mongodb://fintrack:fintrack123@mongodb:27017/fintrack-pro?authSource=admin`

#### Redis
- **Host**: redis (internal), localhost:6379 (external)
- **Password**: fintrack123
- **Connection**: `redis://:fintrack123@redis:6379`

#### ML Service
- **Internal Port**: 8000
- **External Port**: 8001
- **URL**: http://localhost:8001
- **Health**: http://localhost:8001/health

#### Backend API
- **Port**: 5000
- **URL**: http://localhost:5000
- **Health**: http://localhost:5000/api/health
- **API Docs**: http://localhost:5000/api/docs

#### Frontend
- **Port**: 3001
- **URL**: http://localhost:3001

---

## ğŸƒâ€â™‚ï¸ How to Run the Full Project

### Option 1: Quick Start (Everything at Once)

```powershell
cd c:\Users\gkush\OneDrive\Desktop\FinTrack\fintrack-pro
docker compose up --build -d
```

Wait 2-3 minutes for all services to start, then check status:

```powershell
docker compose ps
```

### Option 2: Step-by-Step (Current State)

**Already Running:**
```powershell
# âœ… Database and cache (already healthy)
# - MongoDB: localhost:27017
# - Redis: localhost:6379

# âœ… ML Service (already healthy)
# - ML API: localhost:8001

# âœ… Backend API (running, health check in progress)
# - Backend API: localhost:5000
```

**To Start Frontend:**
```powershell
cd c:\Users\gkush\OneDrive\Desktop\FinTrack\fintrack-pro
docker compose up -d frontend
```

---

## ğŸ” Verify Everything is Working

### 1. Check Container Status

```powershell
docker compose ps
```

Expected output - all should show "(healthy)":
```
NAME                 STATUS
fintrack-mongodb     Up X minutes (healthy)
fintrack-redis       Up X minutes (healthy)
fintrack-ml          Up X minutes (healthy)
fintrack-backend     Up X minutes (healthy)
fintrack-frontend    Up X minutes (healthy)
```

### 2. Test Health Endpoints

**Backend Health:**
```powershell
curl http://localhost:5000/api/health
```

Expected response:
```json
{
  "status": "healthy",
  "timestamp": "2026-02-11T...",
  "uptime": 123,
  "services": {
    "mongodb": "connected",
    "redis": "connected"
  }
}
```

**ML Service Health:**
```powershell
curl http://localhost:8001/health
```

Expected response:
```json
{
  "status": "healthy",
  "models_loaded": true,
  "timestamp": "2026-02-11T..."
}
```

### 3. View Logs

**Backend logs:**
```powershell
docker logs fintrack-backend --tail 50
```

**ML Service logs:**
```powershell
docker logs fintrack-ml --tail 50
```

**All logs (live):**
```powershell
docker compose logs -f
```

---

## ğŸŒ Access Points

### Main Application
- **Frontend**: http://localhost:3001
- **Backend API**: http://localhost:5000
- **API Documentation**: http://localhost:5000/api/docs

### ML Service
- **ML API**: http://localhost:8001
- **Health Check**: http://localhost:8001/health

### Database Management Tools
- **Mongo Express**: http://localhost:8082
  - Username: admin
  - Password: pass
- **Redis Commander**: http://localhost:8081

### Direct Database Access
- **MongoDB**: `mongodb://fintrack:fintrack123@localhost:27017/fintrack-pro?authSource=admin`
- **Redis**: `redis-cli -h localhost -p 6379 -a fintrack123`

---

## ğŸ“ Create Demo Account

```powershell
# Enter backend container
docker exec -it fintrack-backend npm run seed
```

This creates:
- **Email**: demo@fintrack.pro
- **Password**: Demo@123
- **Data**: 90 days of transactions, budgets, goals, bills, etc.

---

## ğŸ› ï¸ Common Commands

### Start Services
```powershell
docker compose up -d
```

### Stop Services
```powershell
docker compose down
```

### Restart Single Service
```powershell
docker compose restart backend
docker compose restart ml-service
docker compose restart frontend
```

### Rebuild Service
```powershell
docker compose up --build -d backend
docker compose up --build -d frontend
docker compose up --build -d ml-service
```

### View Logs
```powershell
# All logs
docker compose logs -f

# Specific service
docker compose logs -f backend
docker compose logs -f ml-service

# Last 50 lines
docker logs fintrack-backend --tail 50
```

### Clean Everything (Fresh Start)
```powershell
docker compose down -v
docker compose up --build -d
```

âš ï¸ **Warning**: `-v` flag removes all data (database, uploads, etc.)

---

## ğŸš€ Deployment Options

### Option 1: Local Development (Current Setup)

**Advantages**:
- âœ… Easy setup with Docker Compose
- âœ… All services on one machine
- âœ… Good for development and testing

**Ports Used**:
- 5000 - Backend API
- 3001 - Frontend
- 8001 - ML Service
- 27017 - MongoDB
- 6379 - Redis

### Option 2: Cloud Deployment (Single VM)

**Where to Deploy**:

1. **AWS EC2**
   - Instance: t3.medium (2 vCPU, 4GB RAM)
   - Cost: ~$30/month
   - Setup: Same docker-compose commands

2. **DigitalOcean Droplet**
   - Plan: $24/month (4GB RAM)
   - Cost: ~$24/month
   - Setup: Same docker-compose commands

3. **Microsoft Azure VM**
   - VM: Standard_B2s (2 vCPU, 4GB RAM)
   - Cost: ~$35/month
   - Setup: Same docker-compose commands

**Deployment Steps** (Any Cloud Provider):

```bash
# 1. SSH into server
ssh user@your-server-ip

# 2. Install Docker
curl -fsSL https://get.docker.com | sh
sudo usermod -aG docker $USER

# 3. Clone repository
git clone <your-repo-url>
cd FinTrack/fintrack-pro

# 4. Configure environment (use strong secrets!)
nano .env
# Add your JWT_SECRET and JWT_REFRESH_SECRET

# 5. Update docker-compose.yml passwords
nano docker-compose.yml
# Change MongoDB and Redis passwords from fintrack123

# 6. Start services
docker compose up --build -d

# 7. Configure Nginx for SSL (HTTPS)
sudo apt install nginx certbot python3-certbot-nginx
sudo certbot --nginx -d yourdomain.com
```

### Option 3: Separate Deployment (Microservices)

**Architecture**:
```
Frontend â†’ Netlify/Vercel (Static hosting)
Backend â†’ AWS EC2/DigitalOcean
ML Service â†’ AWS EC2/DigitalOcean (same or separate VM)
MongoDB â†’ MongoDB Atlas (Cloud database)
Redis â†’ Redis Cloud OR AWS ElastiCache
```

**Frontend Deployment** (Netlify/Vercel):
```bash
cd fintrack-pro/frontend
npm install
npm run build
# Deploy 'dist' folder to Netlify/Vercel
```

**Environment Variables for Frontend**:
```env
VITE_API_URL=https://api.yourdomain.com/api
VITE_WS_URL=wss://api.yourdomain.com
```

**Backend Deployment** (PM2 or Docker):
```bash
cd fintrack-pro/backend
npm install
npm run build
pm2 start dist/server.js --name fintrack-backend
```

**ML Service Deployment** (systemd or Docker):
```bash
cd ml-service
pip install -r requirements.txt
uvicorn app.main:app --host 0.0.0.0 --port 8000
```

---

## ğŸ” Production Security Checklist

Before deploying to production:

- [ ] **Change Default Passwords**
  ```yaml
  # In docker-compose.yml
  MONGO_INITDB_ROOT_PASSWORD: <strong-password-here>
  # Redis command:
  redis-server --requirepass <strong-password-here>
  ```

- [ ] **Use Strong JWT Secrets** (Already done âœ…)
  ```bash
  openssl rand -base64 48  # Run this to generate new secrets
  ```

- [ ] **Enable HTTPS** (SSL/TLS)
  ```bash
  sudo certbot --nginx -d yourdomain.com
  ```

- [ ] **Configure Firewall**
  ```bash
  sudo ufw allow 22   # SSH
  sudo ufw allow 80   # HTTP
  sudo ufw allow 443  # HTTPS
  sudo ufw enable
  ```

- [ ] **Setup Environment Variables**
  - Never commit .env files to Git
  - Use environment-specific configs

- [ ] **Enable Monitoring** (Optional)
  - Add Sentry DSN for error tracking
  - Setup CloudWatch or Datadog logs

- [ ] **Setup Backups**
  ```bash
  # Daily MongoDB backup cron
  0 2 * * * docker exec fintrack-mongodb mongodump --gzip --archive=/backup.gz
  ```

---

## ğŸ“Š Service Map

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                 â”‚
â”‚               Users (Browser)                   â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ HTTP/HTTPS
                   â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                      â”‚
        â”‚  Frontend (React)    â”‚
        â”‚  Port: 3001          â”‚
        â”‚                      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ REST API / WebSocket
                   â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                      â”‚
        â”‚  Backend (Node.js)   â”‚â—„â”€â”€â”€â”€â”€â”€â”
        â”‚  Port: 5000          â”‚       â”‚
        â”‚                      â”‚       â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
               â”‚       â”‚                â”‚
               â”‚       â”‚                â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
      â”‚                         â”‚      â”‚
      â”‚                         â”‚      â”‚
      â–¼                         â–¼      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          â”‚            â”‚                 â”‚
â”‚ MongoDB  â”‚            â”‚  Redis Cache    â”‚
â”‚ Port:    â”‚            â”‚  Port: 6379     â”‚
â”‚ 27017    â”‚            â”‚                 â”‚
â”‚          â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
      â–²                        â”‚
      â”‚                        â”‚
      â”‚                        â”‚
      â”‚                        â”‚
      â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚              â”‚                    â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  ML Service (API)  â”‚
                     â”‚  Port: 8001        â”‚
                     â”‚  (Python/FastAPI)  â”‚
                     â”‚                    â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ What Each Service Does

### Frontend (React + Vite)
- **Purpose**: User interface
- **Tech**: React 18, TypeScript, TailwindCSS
- **Features**: Dashboard, transactions, budgets, analytics
- **Port**: 3001

### Backend (Node.js + Express)
- **Purpose**: REST API and business logic
- **Tech**: Node.js 20, TypeScript, Express
- **Features**: 
  - User authentication (JWT)
  - CRUD operations for all features
  - WebSocket for real-time updates
  - File uploads (receipts)
  - Cron jobs for recurring tasks
- **Port**: 5000

### ML Service (Python + FastAPI)
- **Purpose**: Machine learning predictions
- **Tech**: Python 3.11, FastAPI, scikit-learn
- **Features**:
  - Expense forecasting (30/90 days)
  - Anomaly detection
  - Category prediction for transactions
  - Receipt OCR (Tesseract)
  - Financial insights
- **Port**: 8001

### MongoDB
- **Purpose**: Primary database
- **Storage**: Transactions, users, budgets, goals, bills
- **Port**: 27017

### Redis
- **Purpose**: Caching and session storage
- **Features**: JWT token blacklist, user session cache
- **Port**: 6379

---

## ğŸ†˜ Troubleshooting

### Backend shows "unhealthy"

**Check logs:**
```powershell
docker logs fintrack-backend --tail 100
```

**Common issues:**
1. **MongoDB not ready**: Wait 30 seconds, backend will retry
2. **Redis connection failed**: Check if Redis container is healthy
3. **Environment validation failed**: Check JWT_SECRET length (â‰¥32 chars)

**Solution:**
```powershell
docker compose restart backend
```

### ML Service can't train models

**Check logs:**
```powershell
docker logs fintrack-ml --tail 100
```

**Solution:**
```powershell
# Enter ML container and train manually
docker exec -it fintrack-ml python scripts/train_models.py
```

### Frontend can't connect to backend

**Check environment variables:**
```powershell
# In fintrack-pro/frontend/.env
VITE_API_URL=http://localhost:5000/api
VITE_WS_URL=ws://localhost:5000
```

**Rebuild frontend:**
```powershell
docker compose up --build -d frontend
```

### Port already in use

**Find and kill process:**
```powershell
# Find what's using port 5000
netstat -ano | findstr :5000

# Kill process (replace PID)
taskkill /PID <process-id> /F
```

### Database connection refused

**Check MongoDB status:**
```powershell
docker exec -it fintrack-mongodb mongosh --eval "db.adminCommand('ping')"
```

**Restart MongoDB:**
```powershell
docker compose restart mongodb
```

---

## ğŸ“ Need Help?

**View All Services:**
```powershell
docker compose ps
```

**Check Specific Service:**
```powershell
docker logs fintrack-backend --tail 50
docker logs fintrack-ml --tail 50
docker logs fintrack-frontend --tail 50
```

**Full System Restart:**
```powershell
docker compose down
docker compose up --build -d
```

**View System Resources:**
```powershell
docker stats
```

---

## âœ… Next Steps

1. **Start Frontend**: `docker compose up -d frontend`
2. **Seed Demo Data**: `docker exec -it fintrack-backend npm run seed`
3. **Open Browser**: http://localhost:3001
4. **Login**: demo@fintrack.pro / Demo@123
5. **Test Features**: Transactions, budgets, analytics, receipt upload

---

**ğŸ“– Full Documentation**: See `ENV_VARS.md` and `DEPLOYMENT.md` for detailed guides.

**ğŸ‰ Congratulations! Your FinTrack Pro instance is ready!**
